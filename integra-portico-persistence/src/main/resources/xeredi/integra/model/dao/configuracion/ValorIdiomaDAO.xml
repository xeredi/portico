<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="xeredi.integra.model.dao.configuracion.ValorIdiomaDAO">
	<resultMap type="ValorIdiomaVO" id="ResultMap">
		<id column="cnvi_cnid_pk" property="cnidId" />
		<id column="cnvi_cnci_pk" property="cnciId" />
		<result column="cnvi_valor" property="valor" />
	</resultMap>

	<sql id="SelectPrefix">
    <![CDATA[
    SELECT
    	cnvi_cnid_pk, cnvi_cnci_pk, cnvi_valor
    FROM tbl_configuracion_valor_idioma_cnvi
    ]]>
	</sql>

	<sql id="SelectCountPrefix">
    <![CDATA[
    SELECT
        COUNT(1)
    FROM tbl_configuracion_valor_idioma_cnvi
    ]]>
	</sql>

	<sql id="SelectWherePrefix">
		<where>
			<if test="cnidId != null">
				cnvi_cnid_pk = #{cnidId}
			</if>
			<if test="cnciId != null">
				cnvi_cnci_pk = #{cnciId}
			</if>
			<if test="cnciIds != null and !cnciIds.empty">
				AND cnvi_cnci_pk IN
				<foreach collection="cnciIds" item="item" open="(" close=")" separator=",">#{item}
				</foreach>
			</if>
		</where>
	</sql>

	<select id="selectAllList" resultMap="ResultMap">
		<include refid="SelectPrefix" />
	</select>

	<select id="selectList" resultMap="ResultMap" parameterType="ValorIdiomaCriterioVO">
		<include refid="SelectPrefix" />
		<include refid="SelectWherePrefix" />
	</select>

	<delete id="delete" parameterType="ValorIdiomaCriterioVO">
		DELETE FROM tbl_configuracion_valor_idioma_cnvi
		<include refid="SelectWherePrefix" />
	</delete>

	<insert id="insert" parameterType="ValorIdiomaVO">
        <![CDATA[
        INSERT INTO tbl_configuracion_valor_idioma_cnvi(cnvi_cnid_pk, cnvi_cnci_pk, cnvi_valor)
        VALUES(#{cnidId}, #{cnciId}, #{valor})
        ]]>
	</insert>
</mapper>
