<fieldset>
    <legend>{{'Regla' | uppercase}}</legend>

    <div class="btn-toolbar" role="toolbar">
        <div class="btn-group">
            <button data-ng-click="edit()" class="btn btn-default">
                <i class="glyphicon glyphicon-edit"></i> {{'boton_editar' | translate}}
            </button>
            <button data-ng-click="remove()" class="btn btn-default">
                <i class="glyphicon glyphicon-remove"></i> {{'boton_borrar' | translate}}
            </button>
        </div>
    </div>

    <div class="row">
        <div class="col-md-2 form-group">
            <label>{{'rgla_crgo' | translate}}</label>
            <p class="form-control-static">
                <a href="#/facturacion/crgo/detail/{{rgla.crgo.id}}/{{rgla.rglv.fini}}">{{rgla.crgo.etiqueta}}</a>
            </p>
        </div>
        <div class="col-md-1 form-group">
            <label>{{'rgla_codigo' | translate}}</label>
            <p class="form-control-static">{{rgla.codigo}}</p>
        </div>
        <div class="col-md-1 form-group">
            <label>{{'rgla_tipo' | translate}}</label>
            <p class="form-control-static">{{rgla.tipo}}</p>
        </div>
        <div class="col-md-2 form-group">
            <label>{{'rgla_enti' | translate}}</label>
            <p class="form-control-static">
                <a ng-if="rgla.enti.tipo == 'T'" href="#/metamodelo/tpsr/detail/{{rgla.enti.id}}">{{rgla.enti.nombre}}</a>
                <a ng-if="rgla.enti.tipo == 'S'" href="#/metamodelo/tpss/detail/{{rgla.enti.id}}">{{rgla.enti.nombre}}</a>
            </p>
        </div>
        <div class="col-md-1 form-group">
            <label>{{'rgla_fini' | translate}}</label>
            <p class="form-control-static">{{rgla.rglv.fini | date:('fmt_date' | translate)}}</p>
        </div>
        <div class="col-md-1 form-group">
            <label>{{'rgla_ffin' | translate}}</label>
            <p class="form-control-static">{{rgla.rglv.ffin | date:('fmt_date' | translate)}}</p>
        </div>
        <div class="col-md-1 form-group">
            <label>{{'rgla_orden' | translate}}</label>
            <p class="form-control-static">{{rgla.rglv.orden}}</p>
        </div>
        <div ng-if="rgla.tipo == 'T'" class="col-md-1 form-group">
            <label>{{'rgla_importeBase' | translate}}</label>
            <p class="form-control-static">{{rgla.rglv.importeBase | number:4}}</p>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6 form-group">
            <label>{{'rgla_condicion' | translate}}</label>
            <p class="form-control-static">{{rgla.rglv.condicion}}</p>
        </div>
        <div class="col-md-6 form-group">
            <label>{{'rgla_formula' | translate}}</label>
            <p class="form-control-static">{{rgla.rglv.formula}}</p>
        </div>
    </div>

    <div ng-if="rgla.tipo == 'T'" class="row">
        <div class="col-md-6 form-group">
            <label>{{'rgla_pathImpuesto' | translate}}</label>
            <p class="form-control-static">{{rgla.rglv.pathImpuesto}}</p>
        </div>
        <div class="col-md-6 form-group">
            <label>{{'rgla_pathPagador' | translate}}</label>
            <p class="form-control-static">{{rgla.rglv.pathPagador}}</p>
        </div>
    </div>

    <div ng-if="rgla.tipo == 'T'" class="row">
        <div class="col-md-6 form-group">
            <label>{{'rgla_pathEsSujPasivo' | translate}}</label>
            <p class="form-control-static">{{rgla.rglv.pathEsSujPasivo}}</p>
        </div>
        <div class="col-md-6 form-group">
            <label>{{'rgla_pathCodExen' | translate}}</label>
            <p class="form-control-static">{{rgla.rglv.pathCodExen}}</p>
        </div>
    </div>
</fieldset>

<fieldset ng-if="rgla.tipo == 'T'">
    <legend>{{'Datos Variables' | uppercase}}</legend>
    <div class="row">
        <div class="col-md-9 form-group">
            <table class="table-bordered table-condensed table-hover table-nonfluid">
                <thead>
                    <tr>
                        <th>Campo</th>
                        <th>Etiqueta</th>
                        <th>Ruta</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-if="rgla.rglv.pathInfo1 != null">
                        <td>Info 1</td>
                        <td>{{rgla.rglv.etiqInfo1}}</td>
                        <td>{{rgla.rglv.pathInfo1}}</td>
                    </tr>
                    <tr ng-if="rgla.rglv.pathInfo2 != null">
                        <td>Info 2</td>
                        <td>{{rgla.rglv.etiqInfo2}}</td>
                        <td>{{rgla.rglv.pathInfo2}}</td>
                    </tr>
                    <tr ng-if="rgla.rglv.pathInfo3 != null">
                        <td>Info 3</td>
                        <td>{{rgla.rglv.etiqInfo3}}</td>
                        <td>{{rgla.rglv.pathInfo3}}</td>
                    </tr>
                    <tr ng-if="rgla.rglv.pathInfo4 != null">
                        <td>Info 4</td>
                        <td>{{rgla.rglv.etiqInfo4}}</td>
                        <td>{{rgla.rglv.pathInfo4}}</td>
                    </tr>
                    <tr ng-if="rgla.rglv.pathInfo5 != null">
                        <td>Info 5</td>
                        <td>{{rgla.rglv.etiqInfo5}}</td>
                        <td>{{rgla.rglv.pathInfo5}}</td>
                    </tr>
                    <tr ng-if="rgla.rglv.pathInfo6 != null">
                        <td>Info 6</td>
                        <td>{{rgla.rglv.etiqInfo6}}</td>
                        <td>{{rgla.rglv.pathInfo6}}</td>
                    </tr>

                    <tr ng-if="rgla.rglv.pathCuant1 != null">
                        <td>Cuant 1</td>
                        <td>{{rgla.rglv.etiqCuant1}}</td>
                        <td>{{rgla.rglv.pathCuant1}}</td>
                    </tr>
                    <tr ng-if="rgla.rglv.pathCuant2 != null">
                        <td>Cuant 2</td>
                        <td>{{rgla.rglv.etiqCuant2}}</td>
                        <td>{{rgla.rglv.pathCuant2}}</td>
                    </tr>
                    <tr ng-if="rgla.rglv.pathCuant3 != null">
                        <td>Cuant 3</td>
                        <td>{{rgla.rglv.etiqCuant3}}</td>
                        <td>{{rgla.rglv.pathCuant3}}</td>
                    </tr>
                    <tr ng-if="rgla.rglv.pathCuant4 != null">
                        <td>Cuant 4</td>
                        <td>{{rgla.rglv.etiqCuant4}}</td>
                        <td>{{rgla.rglv.pathCuant4}}</td>
                    </tr>
                    <tr ng-if="rgla.rglv.pathCuant5 != null">
                        <td>Cuant 5</td>
                        <td>{{rgla.rglv.etiqCuant5}}</td>
                        <td>{{rgla.rglv.pathCuant5}}</td>
                    </tr>
                    <tr ng-if="rgla.rglv.pathCuant6 != null">
                        <td>Cuant 6</td>
                        <td>{{rgla.rglv.etiqCuant6}}</td>
                        <td>{{rgla.rglv.pathCuant6}}</td>
                    </tr>
                </tbody>

            </table>
        </div>
    </div>
</fieldset>

<fieldset>
    <legend>{{'Reglas Incompatibles' | uppercase}}</legend>

    <div class="btn-toolbar" role="toolbar">
        <div class="btn-group">
            <a class="btn btn-default" href="#/facturacion/rgin/create/{{rgla.crgo.id}}/{{rgla.id}}"><i
                class="glyphicon glyphicon-file"></i> {{'boton_alta' | translate}}</a>
        </div>
    </div>

    <div class="row">
        <div class="col-md-9 form-group">
            <table ng-if="rginList" class="table-bordered table-condensed table-hover table-nonfluid">
                <thead>
                    <tr>
                        <th />
                        <th>{{'rgla_codigo' | translate}}</th>
                        <th>{{'rgla_tipo' | translate}}</th>
                        <th>{{'rgla_enti' | translate}}</th>
                        <th>{{'rgin_fini' | translate}}</th>
                        <th>{{'rgin_ffin' | translate}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="rgin in rginList">
                        <td><a href="#/facturacion/rgin/detail/{{rgin.rgiv.id}}"><i
                                class="glyphicon glyphicon-search"></i></a></td>
                        <td>{{rgin.rgla2.codigo}}</td>
                        <td>{{rgin.rgla2.tipo}}</td>
                        <td>{{rgin.rgla2.enti.nombre}}</td>
                        <td>{{rgin.rgiv.fini | date:('fmt_date' | translate)}}</td>
                        <td>{{rgin.rgiv.ffin | date:('fmt_date' | translate)}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</fieldset>
