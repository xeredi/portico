
<input type="hidden" ng-model="page" />

<fieldset>
    <div class="row">
        <div class="col-md-2 form-group">
            <label>{{"vlrc_id" | translate}}</label> <input type="text" ng-model="vlrcCriterio.id"
                class="form-control input-sm" />
        </div>
        <div class="col-md-2 form-group">
            <label>{{"vlrc_srvc" | translate}}</label> <input type="text" ng-model="vlrcCriterio.srvcId"
                class="form-control input-sm" />
        </div>
        <div class="col-md-2 form-group">
            <label>{{"vlrc_aspc" | translate}}</label> <input type="text" ng-model="vlrcCriterio.aspcId"
                class="form-control input-sm" />
        </div>
        <div class="col-md-3 form-group">
            <label>{{"vlrc_pagador" | translate}}</label>
            <div class="input-group-sm" ng-controller="prmtsLupaCtrl">
                <input type="text" ng-model="vlrcCriterio.pagador"
                    typeahead="prmt as prmt.etiqueta for prmt in getLabelValues(20010, $viewValue)"
                    typeahead-loading="loading" typeahead-wait-ms="500" class="form-control input-sm"> <i
                    ng-show="loading" class="glyphicon glyphicon-refresh"></i>
                <!-- -->
                $ {{vlrcCriterio.pagador.id}} $ {{vlrcCriterio.pagador.etiqueta}}
            </div>
        </div>
    </div>

    <div class="row">
        <div class="form-group">
            <button data-ng-click="search()" class="btn btn-default">
                <i class="glyphicon glyphicon-search"></i> {{'boton_buscar' | translate}}
            </button>
        </div>
    </div>
</fieldset>

<fieldset>
    <pagination total-items="vlrcList.count" items-per-page="vlrcList.limit" ng-model="page"
        ng-change="pageChanged()" class="pagination-sm" max-size="1" previous-text="&lsaquo;" next-text="&rsaquo;"></pagination>

    <div class="table-responsive">

        <span class="label label-default">{{vlrcList.count}} resultado(s)</span>

        <table class="table-bordered table-condensed table-hover table-nonfluid">
            <thead>
                <tr>
                    <th class="buttonLinks" nowrap="nowrap" />
                    <th class="codigo" nowrap="nowrap">{{'vlrc_id' | translate}}</th>
                    <th class="codigo" nowrap="nowrap">{{'vlrc_srvc' | translate}}</th>
                    <th>{{'vlrc_aspc' | translate}}</th>
                    <th>{{'vlrc_pagador' | translate}}</th>
                    <th>{{'vlrc_importe' | translate}}</th>
                    <th>{{'vlrc_impuesto' | translate}}</th>
                    <th>{{'vlrc_fliq' | translate}}</th>
                    <th>{{'vlrc_fini' | translate}}</th>
                    <th>{{'vlrc_ffin' | translate}}</th>
                    <th>{{'vlrc_sujPasivo' | translate}}</th>
                    <th>{{'vlrc_codExencion' | translate}}</th>
                </tr>
            </thead>

            <tbody>
                <tr ng-repeat="item in vlrcList.list">
                    <td><a href="#/facturacion/vlrc/detail/{{item.id}}"><i class="glyphicon glyphicon-search"></i></a></td>
                    <td>{{item.id}}</td>
                    <td>{{item.srvc.etiqueta}}</td>
                    <td>{{item.aspc.etiqueta}}</td>
                    <td>{{item.pagador.etiqueta}}</td>
                    <td class="number">{{item.importe | number:2}}</td>
                    <td class="number">{{item.impuesto | number:2}}</td>
                    <td>{{item.fliq | date:('fmt_datetime' | translate)}}</td>
                    <td>{{item.fini | date:('fmt_datetime' | translate)}}</td>
                    <td>{{item.ffin | date:('fmt_datetime' | translate)}}</td>
                    <td>{{'fmt_' + item.sujPasivo | translate}}</td>
                    <td>{{item.codExencion}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</fieldset>